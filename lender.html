<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Connect With a Lender – Michigan Mortgage Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="canonical" href="https://michiganmortgagecalculator.org/lender.html" />

  <link rel="icon" href="/michigan-mortgage-calculator-thumbnail.png" />
  <link rel="apple-touch-icon" href="/michigan-mortgage-calculator-thumbnail.png" />

  <style>
    * { box-sizing: border-box; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body { margin: 0; background: #f5f5f7; color: #111827; }

    .site-header { text-align: center; padding: 16px; }
    .site-header a { font-size: 1.7rem; font-weight: 700; color: #111827; text-decoration: none; }
    .site-header a:hover { text-decoration: underline; }

    .page { max-width: 900px; margin: 0 auto; padding: 0 16px 48px; }
    .card {
      background: #fff;
      border-radius: 18px;
      padding: 18px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 12px 30px rgba(0,0,0,0.08);
    }

    h1 { margin-top: 0; }
    p { color: #4b5563; line-height: 1.5; margin-top: 0; }

    label { font-size: 0.85rem; margin-top: 12px; display: block; color: #374151; }
    input, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid #d1d5db;
      margin-top: 4px;
      font-size: 0.9rem;
      background: #fff;
    }

    .btn {
      margin-top: 16px;
      padding: 10px 14px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(135deg, #2563eb, #4f46e5);
      color: #fff;
      font-weight: 700;
      cursor: pointer;
    }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }

    .disclosure {
      margin-top: 10px;
      font-size: 0.8rem;
      color: #6b7280;
    }
    .disclosure a { color: #2563eb; text-decoration: none; }

    .footer {
      margin-top: 24px;
      font-size: 0.8rem;
      text-align: center;
      color: #6b7280;
    }
    .footer a { color: #2563eb; text-decoration: none; }

    .status {
      margin-top: 12px;
      font-size: 0.9rem;
      font-weight: 600;
    }
    .status.ok { color: #047857; }
    .status.err { color: #b91c1c; }
  </style>
</head>

<body>
<header class="site-header">
  <a href="/">Michigan Mortgage Calculator</a>
</header>

<div class="page">
  <div class="card">
    <h1>Connect With a Lender</h1>
    <p>Submit your information below and we’ll help connect you with a lender.</p>

    <form id="leadForm">
      <!-- Honeypot (bots fill this; humans won't see it) -->
      <input type="text" id="company" name="company" autocomplete="off" style="display:none" tabindex="-1" />

      <label>Name</label>
      <input id="name" required />

      <label>Phone</label>
      <input id="phone" required />

      <label>Email (optional)</label>
      <input id="email" type="email" />

      <label>Notes (optional)</label>
      <textarea id="notes" rows="4"></textarea>

      <button class="btn" id="submitBtn" type="submit">Submit</button>

      <p class="disclosure">
        By submitting this form, you are requesting to be contacted regarding your inquiry.
        See <a href="/privacy.html">Privacy Policy</a>.
      </p>

      <div id="status" class="status" aria-live="polite"></div>
    </form>
  </div>

  <div class="footer">
    <a href="/privacy.html">Privacy Policy</a>
  </div>
</div>

<script>
  // Your Cloudflare Worker route
  const API_URL = "https://api.michiganmortgagecalculator.org/lead";

  const form = document.getElementById("leadForm");
  const statusEl = document.getElementById("status");
  const btn = document.getElementById("submitBtn");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusEl.className = "status";
    statusEl.textContent = "";
    btn.disabled = true;

    const payload = {
      type: "lender",
      name: document.getElementById("name").value.trim(),
      phone: document.getElementById("phone").value.trim(),
      email: document.getElementById("email").value.trim(),
      notes: document.getElementById("notes").value.trim(),
      company: document.getElementById("company").value.trim(), // honeypot
    };

    try {
      statusEl.textContent = "Submitting...";
      const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });

      const data = await res.json().catch(() => ({}));

      if (res.ok && data.ok) {
        statusEl.textContent = "Submitted! We’ll reach out soon.";
        statusEl.classList.add("ok");
        form.reset();
      } else {
        statusEl.textContent = "Error submitting. Please call 616-205-9531.";
        statusEl.classList.add("err");
      }
    } catch (err) {
      statusEl.textContent = "Error submitting. Please call 616-205-9531.";
      statusEl.classList.add("err");
    } finally {
      btn.disabled = false;
    }
  });
</script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
  integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
  data-cf-beacon='{"version":"2024.11.0","token":"a21991d948bd42e6ae8500ae9588d864","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}'
  crossorigin="anonymous"></script>

</body>
</html>
